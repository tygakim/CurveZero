# new approach
# deploy all contracts but TrustedAddy goes last
# update all contracts to point to TrustedAddy

# compile all
starknet-compile Interface/LiquidityProvider.cairo --output Compiled/LiquidityProvider_compiled.json --abi Compiled/LiquidityProvider_abi.json
starknet-compile Interface/PriceProvider.cairo --output Compiled/PriceProvider_compiled.json --abi Compiled/PriceProvider_abi.json
starknet-compile Interface/CapitalBorrower.cairo --output Compiled/CapitalBorrower_compiled.json --abi Compiled/CapitalBorrower_abi.json
starknet-compile Interface/LoanLiquidator.cairo --output Compiled/LoanLiquidator_compiled.json --abi Compiled/LoanLiquidator_abi.json
starknet-compile Interface/GovenanceToken.cairo --output Compiled/GovenanceToken_compiled.json --abi Compiled/GovenanceToken_abi.json
starknet-compile Core/CZCore.cairo --output Compiled/CZCore_compiled.json --abi Compiled/CZCore_abi.json
starknet-compile Core/Controller.cairo --output Compiled/Controller_compiled.json --abi Compiled/Controller_abi.json
starknet-compile Core/InsuranceFund.cairo --output Compiled/InsuranceFund_compiled.json --abi Compiled/InsuranceFund_abi.json
starknet-compile Config/Settings.cairo --output Compiled/Settings_compiled.json --abi Compiled/Settings_abi.json
starknet-compile Config/TrustedAddy.cairo --output Compiled/TrustedAddy_compiled.json --abi Compiled/TrustedAddy_abi.json

starknet deploy --contract Compiled/LiquidityProvider_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/PriceProvider_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/CapitalBorrower_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/LoanLiquidator_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/GovenanceToken_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/CZCore_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/Controller_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/InsuranceFund_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/Settings_compiled.json --inputs 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
starknet deploy --contract Compiled/TrustedAddy_compiled.json \
--inputs \
    0x05158655c252f9493321d40720844f690de8a3051696716d6ba149770f7977d0 \
    0x05eafd010eb33ae4a38f6c1c1a7eafce9726a7f50db91e937d0f5d8438689b31 \
    0 \
    0 \
    0 \
    0 \
    0x049037bb641d8b233b5a366198bae273ed2cfa2b346cc239d3f93176d1f9050f \
    0x01c56e058f9a24c44d136ce86e262b72f80694e8f3c8c085ec67dda1f2ff4469 \
    0x06b5d434a2a804c6deb713d4fe19583e3201dfb2df7956ba90a983e84c266dce \
    0 \
    0

Last test
[deployer] = 0x02e7b3a6df356dfb79f03a529338bf016e0c17ac9119550e372f588a6539f5e0
[lp] = 0x05158655c252f9493321d40720844f690de8a3051696716d6ba149770f7977d0
[pp] = 0x05eafd010eb33ae4a38f6c1c1a7eafce9726a7f50db91e937d0f5d8438689b31
[cb] = 
[ll] = 
[gt] = 
[if] = 
[czcore] = 0x049037bb641d8b233b5a366198bae273ed2cfa2b346cc239d3f93176d1f9050f
[controller] = 0x01c56e058f9a24c44d136ce86e262b72f80694e8f3c8c085ec67dda1f2ff4469
[setttings] = 0x06b5d434a2a804c6deb713d4fe19583e3201dfb2df7956ba90a983e84c266dce
[usdc] =
[czt] =
[trusted] = 0x04fd736ed9d94b6677b994d9c0caaf08d964c39221e1826fa4c0eb45d338d2d5

# check transactions / testing
starknet tx_status --hash [tx_hash]
starknet get_transaction --hash [tx_hash]
starknet get_transaction_receipt --hash [tx_hash]

# update contract addy to point to TrustedAddy
starknet invoke \
    --address 0x01653ffc3bfed9630ed5d02651f8c5695cb671d60266b8ecc39ec02066c0e3a5 \
    --abi LiquidityProvider_abi.json \
    --function set_trusted_addy \
    --inputs 0x07283fce2d2efc1720fbc9b85a0235d442abc5d98f6fff5beddabd90ac7d6acc

starknet call \
    --address 0x04e0cf7f535e97b871e1273cb57b21169e59bcda32cdc0e156d8bc9056f46013 \
    --abi contract_abi.json \
    --function get_balance 
